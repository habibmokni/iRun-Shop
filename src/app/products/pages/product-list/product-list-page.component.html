@if (!isLoading()) {
	<!-- Filter bar -->
	<app-filter-bar [products]="products()" />

	<!-- Product grid -->
	<section class="products-section container">
		@if (displayedProducts().length > 0) {
			<div class="product-grid">
				@for (product of displayedProducts(); track product.modelNo) {
					<app-product-card [product]="product" [showCategory]="true" />
				}
			</div>
		} @else {
			<div class="empty-state">
				<mat-icon class="empty-icon">search_off</mat-icon>
				<p>No products found. Try adjusting your filters.</p>
			</div>
		}
	</section>
} @else {
	<!-- Skeleton filter chips -->
	<section class="filter-section">
		<div class="filter-inner container">
			<div class="skeleton-chips">
				@for (i of [1, 2, 3, 4, 5, 6]; track i) {
					<div class="skeleton skeleton-chip"></div>
				}
			</div>
		</div>
	</section>

	<!-- Skeleton product grid -->
	<section class="products-section container">
		<div class="product-grid">
			@for (i of [1, 2, 3, 4, 5, 6]; track i) {
				<div class="skeleton-card">
					<div class="skeleton-card-image skeleton"></div>
					<div class="skeleton-card-body">
						<div class="skeleton skeleton-text skeleton-brand"></div>
						<div class="skeleton skeleton-text skeleton-name"></div>
						<div class="skeleton skeleton-text skeleton-category"></div>
						<div class="skeleton-card-footer">
							<div class="skeleton skeleton-text skeleton-price"></div>
							<div class="skeleton skeleton-btn"></div>
						</div>
					</div>
				</div>
			}
		</div>
	</section>
}

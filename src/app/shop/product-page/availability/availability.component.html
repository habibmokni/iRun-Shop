
<div *ngIf="!isSizeSelected">
  <mat-card-title style="display: block;">Select Size</mat-card-title>
  <mat-card-subtitle *ngIf="size>0">Your current size selection is: {{size}}</mat-card-subtitle>
  <div class="product_size_list_expansion" *ngFor="let size of data.sizes; let i=index">
    <mat-divider></mat-divider>
    <a fxLayout
    style=" color: #8B283D; background-color: white;"
    (click)="changeSize(size)"
    >
    {{size}}
    </a>
    <mat-divider></mat-divider>
  </div>
</div>


<div mat-dialog-content class="content" *ngIf="isSizeSelected">
  <mat-card-title style="display: block;">Check Availability</mat-card-title>
  <mat-card-subtitle>Enter the location or zip code to check which nearest store has the selected product</mat-card-subtitle>
  <a mat-flat-button type="button" style="width: 100%; padding: 1rem 0rem;" (click)="isSizeSelected=false">Size Selected: {{size}}</a>
  <mat-tab-group mat-align-tabs="start">
    <mat-tab label="Address">
      <mat-form-field class="product_availability_zipcode" style="width: 230px; margin-top: 10px;">
        <input id="search" matInput type="text" placeholder="Enter zip code or address">
      </mat-form-field>
      <div *ngIf="nearByStores">
        <div *ngFor="let store of nearByStores; let i= index;">
          <mat-divider></mat-divider>
            <mat-card-content (click)="onStoreSelect(store.stores)">
              <h2>{{store.stores.name}}</h2>
              <h4 style="display: contents;">Address: {{store.stores.address}}</h4>
              <h5>
                <mat-icon *ngIf="store.stock>5" style="color: green;">room</mat-icon>
                <mat-icon *ngIf="store.stock<=5 && store.stock>0" style="color: yellow;">room</mat-icon>
                <mat-icon *ngIf="store.stock===0"style="color: red;">room</mat-icon>
                {{store.distances.toFixed(2)}}km
              </h5>
              </mat-card-content>
            <mat-divider></mat-divider>
          </div>
      </div>
    </mat-tab>
    <mat-tab label="Map" class="maps">
      <app-maps
      [mapHeight]="mapHeight"
      [mapWidth]="mapWidth"
      ></app-maps>
    </mat-tab>
  </mat-tab-group>
</div>

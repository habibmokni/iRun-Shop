<mat-toolbar class="header">
	<div class="header-inner container">
		<a class="logo-link" routerLink="/">
			<img
				ngSrc="assets/images/logos/iRun/iRun-pink-logo.png"
				alt="iRun"
				class="logo"
				width="80"
				height="40"
				priority
			/>
		</a>

		<!-- Nav links -->
		<a class="nav-link" routerLink="/products" routerLinkActive="active-link">Collection</a>

		<span class="filler"></span>

		<!-- Store selector -->
		<button
			mat-icon-button
			type="button"
			routerLink="/storeselector"
			aria-label="Store selector"
		>
			<mat-icon fontSet="material-icons-outlined">where_to_vote</mat-icon>
		</button>

		<!-- User menu -->
		<button mat-icon-button [matMenuTriggerFor]="userMenu" aria-label="User menu">
			<mat-icon>person_outline</mat-icon>
		</button>

		<mat-menu #userMenu="matMenu">
			@if (isLoggedIn()) {
				<div routerLink="user-profile" class="user-profile-menu" mat-menu-item>
					<mat-icon class="profile-icon">account_circle</mat-icon>
					<div class="user-info">
						<h4>{{ user()?.firstName ?? 'Profile' }}</h4>
						<h5>{{ user()?.email ?? '' }}</h5>
					</div>
				</div>
				<a mat-menu-item (click)="onLogout()">
					<mat-icon>logout</mat-icon>
					Logout
				</a>
			} @else {
				<a mat-menu-item routerLink="/login">
					<mat-icon>login</mat-icon>
					Login
				</a>
				<a mat-menu-item routerLink="/register">
					<mat-icon>how_to_reg</mat-icon>
					Register
				</a>
			}
		</mat-menu>

		<!-- Wishlist -->
		<a
			mat-icon-button
			routerLink="/user-profile"
			[queryParams]="{ tab: 'wishlist' }"
			aria-label="Wishlist"
			class="wishlist-btn"
		>
			<mat-icon
				[matBadge]="wishlistCount()"
				[matBadgeHidden]="wishlistCount() === 0"
				matBadgeColor="warn"
				matBadgeSize="small"
				fontSet="material-icons-outlined"
			>
				favorite_border
			</mat-icon>
		</a>

		<!-- Cart -->
		<a mat-icon-button routerLink="/shoppingcart" aria-label="Shopping cart">
			<mat-icon
				[matBadge]="cartCount()"
				matBadgeColor="warn"
				fontSet="material-icons-outlined"
			>
				shopping_bag
			</mat-icon>
		</a>
	</div>
</mat-toolbar>

<div class="dialog-container">
	<div class="dialog-header">
		<div>
			<span class="product-brand">{{ product.companyName }}</span>
			<h2 class="product-name">{{ product.name }}</h2>
		</div>
		<div class="price-group">
			<span class="price-current">{{ product.price }}€</span>
			<span class="price-original">{{ originalPrice | number: '1.2-2' }}€</span>
		</div>
	</div>

	<div class="dialog-section">
		<span class="section-label">Choose size</span>
		<cnc-size-selector [product]="product" (sizeSelected)="onSizeSelected($event)" />
	</div>

	@if (isSizeSelected()) {
		<div class="stock-info">
			@if (stock() > 0) {
				<mat-icon class="stock-icon in-stock-icon">check_circle</mat-icon>
				<span class="in-stock">In stock ({{ stock() }})</span>
			} @else {
				<mat-icon class="stock-icon out-of-stock-icon">cancel</mat-icon>
				<span class="out-of-stock">Out of stock at your store</span>
			}
		</div>
	}

	<div class="quantity-row">
		<span class="section-label">Quantity</span>
		<div class="quantity-controls">
			<button type="button" class="qty-btn" (click)="decrementItems()">
				<mat-icon>remove</mat-icon>
			</button>
			<span class="quantity-value">{{ noOfItems() }}</span>
			<button type="button" class="qty-btn" (click)="incrementItems()">
				<mat-icon>add</mat-icon>
			</button>
		</div>
	</div>

	<button
		matButton="filled"
		type="button"
		(click)="addToCart()"
		class="cart-btn"
		[disabled]="stock() === 0"
	>
		<mat-icon>shopping_bag</mat-icon>
		Add to cart
	</button>
</div>
